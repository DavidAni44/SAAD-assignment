<iframe src="NavBar.html" width="100%" frameborder="0"></iframe>
<link href="../static/BorrowMedia.css" rel="stylesheet" type="text/css" />

<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <script>

        function setCookie(deviceType) {
        document.cookie = "DeviceType =" + deviceType
        }
          
          // Usage
        setCookie("Desktop")


        if (document.cookie.includes("DeviceType=Mobile")) 
        {
            console.log("two");
        }
        else
        {
            console.log("one")
        }
        
        function borrowMedia(event) {
            event.preventDefault(); // Prevent the default form submission

            const mediaId = event.target.querySelector('input[name="media_id"]').value;
            const userId = event.target.querySelector('input[name="user_id"]').value;

            // Create a JSON object with media_id and user_id
            const requestData = {
                media_id: mediaId,
                user_id: userId
            };

            // Send the POST request with the JSON body
            fetch('http://127.0.0.1:5000/api/media/borrow', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestData)
            })
            .then(response => response.json())  // Parse the response as JSON
            .then(data => {
                // Handle the response data here
                console.log('Success:', data);
                alert(`Success: ${JSON.stringify(data)}`);
            })
            .catch(error => {
                // Handle any errors here
                console.error('Error:', error);
            });
        }
    </script>
    

    <div class="search-container">
        <input type="text" id="search" name="search" placeholder="Search...">
        <button class = "SearchButton" type="submit" onclick="searchFunction()">Search</button>
      </div>

<!-- 
need some kinda function that this takes the first 6 titles in the database
and then during the demo update the database and show that this is updated      
-->
      <div class="grid-container">
        <form onsubmit="borrowMedia(event)">
            <input type="hidden" name="media_id" value="67339ffc268d647e800b6fda">
            <input type="hidden" name="user_id" value="user_1">
            <button type="submit" class="gridLink">
                <div class="grid-item">
                    <p>Item 1</p>
                    <p>Placeholder for image</p>
                    <h2>Item Name</h2>
                    <p>Paragraph of info</p>
                </div>
            </button>
        </form>
        <div class="grid-item">Item 3</div>
        <div class="grid-item">Item 4</div>
        <div class="grid-item">
            <p>Placeholder for image</p>
            <h2>Item Name</h2>
            <p>Paragraph of info</p>
        </div>
        <div class="grid-item">Item 6</div>
    </div>


</body>
</html>
